<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gioca a Scopa online con amici e sfida avversari in tutto il mondo. Play Scopa online and challenge opponents worldwide in this classic Italian card game.">
    <link rel="stylesheet" href="style.css">
    <meta name="google-signin-client_id" content="ID.apps.googleusercontent.com">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <link rel="icon" type="image/x-icon" href="img/pageIcon.ico">
    <title>Scopa - Home</title>
</head>

<body>
    <audio id="audioMusic">
        <source src="music/backgroundMusic.mp3" type="audio/mp3">
    </audio>
    <audio class="effects" id="dealCards">
        <source src="soundEffects/dealCards.mp3" type="audio/mp3">
    </audio>
    <audio class="effects" id="scopaSound">
        <source src="soundEffects/scopaLaugh.mp3" type="audio/mp3">
    </audio>
    <audio class="effects" id="playedCardSound">
        <source src="soundEffects/playedCardSound.mp3" type="audio/mp3">
    </audio>
    <audio class="effects" id="victorySound">
        <source src="soundEffects/victorySound.mp3" type="audio/mp3">
    </audio>
    <div id="main-container">
        <div id="successMessage">
           <p>Login/Registrazione eseguita con successo</p> 
        </div>
        <div id="top-left-bar" class="dropdown">
            <img class="icon" src="https://cdn-icons-png.flaticon.com/512/1077/1077012.png" alt="Icona Nickname" />
            <span id="nicknameTag" class="dropbtn">Guest</span>
            <div class="dropdown-content" id="dropdownList">
              <div id="statsDiv"><i class="fas fa-chart-bar"></i> Statistics</div>
              <div id="disconnectDiv"><i class="fas fa-sign-out-alt"></i> Logout</div>
            </div>
          </div>
        <div id="login-container">
            <button id="login-hud" onclick="loginButton()">
                <div class="buttonLogin">
                    <p>Login</p>
                </div>
            </button>
            <button id="register-hud" onclick="registerButton()">
                <div class="buttonLogin">
                    <p>Register</p>
                </div>
            </button>
        </div>

        <div id="statsPopup">
            <h2 id="statsPopupTitle">Your statistics All-Time</h2>
            <div class="stats-list">
              <div><span>Rounds Won:</span> <span class="value" id="roundWin">0</span></div>
              <div><span>Rounds Lost:</span> <span class="value" id="roundLost">0</span></div>
              <div><span>Total Rounds:</span> <span class="value" id="roundTotal">0</span></div>
              <div><span>Matches Won:</span> <span class="value" id="partiteWin">0</span></div>
              <div><span>Matches Lost:</span> <span class="value" id="partiteLost">0</span></div>
              <div><span>Total Matches:</span> <span class="value" id="partiteTotal">0</span></div>
              <div><span>Scopes:</span> <span class="value" id="scopeCount">0</span></div>
            </div>
            <button id="closeStatsBtn" type="button">Close</button>
        </div>
        <div id="loginPopup">
            <div id="loginMenu">
                <h2>Login</h2>
                <form id="loginForm">
                    <label for="loginInput">Insert Email:</label>
                    <input type="text" name="loginInput" id="loginInput" placeholder="Email" required>
                    <label for="loginPassword">Insert Password:</label>
                    <input type="password" name="loginPassword" id="loginPassword" placeholder="Password" required>
                    <div id="rememberMeDiv">
                        <input type="checkbox" value="lsRememberMe" id="rememberMe"> 
                        <label for="rememberMe">Remember me</label>
                    </div>
                    <div id="buttonSide">
                        <input type="button" onclick="exitLogin()" class="exitButton" value="Exit">
                        <input type="submit" class="confirmButton" value="Confirm">
                    </div>
                    <div id="google-login" style="margin-top: 20px; text-align: center;">
                        <div id="my-signin2-login"></div>
                    </div>
                </form>
            </div>

            <div id="registerMenu">
                <h2>Register</h2>
                <form id="registerForm">
                    <label for="registerUsername">Insert Username:</label>
                    <input type="text" name="registerUsername" id="registerUsername" placeholder="Username" required>
                    <label for="registerEmail">Insert Email:</label>
                    <input type="email" name="registerEmail" id="registerEmail" placeholder="Email" required>
                    <label for="registerPassword">Insert Password:</label>
                    <input type="password" name="registerPassword" id="registerPassword" placeholder="Password" required>                    
                    <label for="confirmRegisterPassword">Confirm Password:</label>
                    <input type="password" name="confirmRegisterPassword" id="confirmRegisterPassword" placeholder="Confirm Password" required>
                    <p id="errorLog"></p>
                    <div id="buttonSide">
                        <input type="button" onclick="exitLogin()" class="exitButton" value="Exit">
                        <input type="submit" class="confirmButton" id="confirmButton" value="Confirm">
                    </div>
                    <div id="google-register" style="margin-top: 20px; text-align: center;">
                        <div id="my-signin2-register"></div>
                    </div>
                </form>
            </div>
        </div>
        <div id="banner"></div>
        <div id="pdfMainMenu" style="display:none;">
            <embed id="pdfIframe" src="pdf/guide.pdf" width="90%" height="100%">
            <button onclick="closeGuideMain()">Close</button>
        </div>
        <div id="starting-menu">
            <div id="main-menu">
                <button id="play-button" onclick="playGame()">Play</button>
                <button onclick="apriImpostazioni()">Settings</button>
                <button onclick="exitGame()">Exit</button>
                <i id="volume-icon" class="fas fa-volume-up volume-icon" onclick="volumeChanger()"></i>
            </div>
            <div id="settingsPopup">
                <h2>Impostazioni</h2>
                <label for="volumeControlMusic">Volume Musica:</label>
                <input type="range" id="volumeControlMusic" min="0" max="100" oninput="cambiaVolumeMusica(this.value)" value="5">
                <label for="volumeControlEffects">Volume Effetti:</label>
                <input type="range" id="volumeControlEffects" min="0" max="100" oninput="cambiaVolumeEffects(this.value)" value="5">
                <button onclick="openGuideMain()">Open Guide</button>
                <button onclick="apriBackground()">Choose Background</button>
                <button id="btn" onclick="chiudiImpostazioni()">Close</button>
            </div>
        </div>
        <div id="backgroundPopup">
            <div id="backgroundCards-menu">
                <div class="backgroundCards">
                    <img loading="lazy" class="backgroundPreview" src="img/backgrounds/main-background.webp"
                        onclick="cambiaBackground('img/backgrounds/main-background.webp')" alt="Opzione 1">
                </div>
                <div class="backgroundCards">
                    <img loading="lazy" class="backgroundPreview" src="img/backgrounds/red-background.webp"
                        onclick="cambiaBackground('img/backgrounds/red-background.webp')" alt="Opzione 2">
                </div>
                <div class="backgroundCards">
                    <img loading="lazy" class="backgroundPreview" src="img/backgrounds/orange-background.webp"
                        onclick="cambiaBackground('img/backgrounds/orange-background.webp')" alt="Opzione 3">
                </div>
                <div class="backgroundCards">
                    <img loading="lazy" class="backgroundPreview" src="img/backgrounds/green-background.webp"
                        onclick="cambiaBackground('img/backgrounds/green-background.webp')" alt="Opzione 4">
                </div>
            </div>
            <button id="btn" onclick="chiudiBackground()">Close</button>
        </div>
        <div class="fixed-social" aria-label="Social links">
            <a href="https://github.com/MatteoBira/JSS" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
              <i class="fab fa-github"></i>
            </a>
            <a href="https://www.instagram.com/playscopa.online?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="https://status.playscopa.online/" target="_blank" rel="noopener noreferrer" aria-label="Status">
                <i class="fa-solid fa-server"></i>
            </a>
            <a href="" target="_blank" rel="noopener noreferrer" aria-label="Bug Report">
              <i class="fa fa-bug"></i>
            </a>
          </div>
    </div>

    <div id="content">
        <div id="left-content">
            <div id="guide">
                <img onclick="inGameSettings()" src="img/setting.webp" alt="Settings icon">
            </div>
            <div class="icon-container">
                <p id="status"></p>
                <img id="icon-img" src="img/playerIcon.webp" alt="Player's image">
                <p id="player1ID">You</p>
            </div>
        </div>
        <div id="main-content">
            <div id="scopaCardContainer">
                <div class="cards" id="scopaCard">
                    <span id="scopaCardText">Scopa x0</span>
                </div>
            </div>
            <div id="round-summary">
                <h3 id="result"></h3>
                <table>
                    <tr>
                        <th>Players</th>
                        <th>You</th>
                        <th>Opponent</th>
                    </tr>
                    <tr>
                        <td class="intestazioneTable">Scopes</td>
                        <td id="scopesPlayer">0</td>
                        <td id="scopesOpponent">0</td>
                    </tr>
                    <tr>
                        <td class="intestazioneTable">Number of Cards</td>
                        <td id="cardsPlayer">0</td>
                        <td id="cardsOpponent">0</td>
                    </tr>
                    <tr>
                        <td class="intestazioneTable">Number of Denari</td>
                        <td id="denariPlayer">0</td>
                        <td id="denariOpponent">0</td>
                    </tr>
                    <tr>
                        <td class="intestazioneTable">Seven of Denari</td>
                        <td id="settePlayer">0</td>
                        <td id="setteOpponent">0</td>
                    </tr>
                    <tr>
                        <td class="intestazioneTable">Ten of Denari</td>
                        <td id="dieciPlayer">0</td>
                        <td id="dieciOpponent">0</td>
                    </tr>
                    <tr>
                        <td class="intestazioneTable">Primiera</td>
                        <td id="primieraPlayer">0</td>
                        <td id="primieraOpponent">0</td>
                    </tr>
                    <tr>
                        <td class="intestazioneTable">This round</td>
                        <td id="roundPlayer">0</td>
                        <td id="roundOpponent">0</td>
                    </tr>
                    <tr>
                        <th>Total Points</th>
                        <th id="totPlayer">0</th>
                        <th id="totOpponent">0</th>
                    </tr>
                </table>
                <button id="fineGameButton" onclick="iniziaNuovoRound()">Continua</button>
            </div>
            <div id="cardSelectionPopup">
                <div id="cardSelectionMenu">
                </div>
            </div>
            <div id="top-content">
                <div class="half-table" id="opponent-hand">
                </div>
            </div>
            <div id="game">
                <div id="popup">
                    <p id="popupText"></p>
                </div>
                <div id="inGameSettings">
                    <label for="volumeControlMusic">Volume Musica:</label>
                    <input type="range" id="volumeControlMusic" min="0" max="100" oninput="cambiaVolumeMusica(this.value)" value="5">
                    <label for="volumeControlEffects">Volume Effetti:</label>
                    <input type="range" id="volumeControlEffects" min="0" max="100" oninput="cambiaVolumeEffects(this.value)" value="5">
                    <i id="volume-icon" class="fas fa-volume-up volume-icon" onclick="volumeChanger()"></i>
                    <button onclick="openGuide()">Open Guide</button>
                    <button onclick="apriIGBackground()">Choose Background</button>
                    <button onclick="location.reload()">Exit Game</button>
                    <button style="margin-top: 25px; width: 65%;" id="btn"
                        onclick="chiudiIGImpostazioni()">Close</button>
                </div>

                <div id="backgroundIGPopup">
                    <div id="backgroundIGCards-menu">
                        <div class="backgroundCards">
                            <img class="backgroundPreview" src="img/backgrounds/main-background.webp"
                                onclick="cambiaBackground('img/backgrounds/main-background.webp')" alt="Opzione 1">
                        </div>
                        <div class="backgroundCards">
                            <img class="backgroundPreview" src="img/backgrounds/red-background.webp"
                                onclick="cambiaBackground('img/backgrounds/red-background.webp')" alt="Opzione 2">
                        </div>
                        <div class="backgroundCards">
                            <img class="backgroundPreview" src="img/backgrounds/orange-background.webp"
                                onclick="cambiaBackground('img/backgrounds/orange-background.webp')" alt="Opzione 3">
                        </div>
                        <div class="backgroundCards">
                            <img class="backgroundPreview" src="img/backgrounds/green-background.webp"
                                onclick="cambiaBackground('img/backgrounds/green-background.webp')" alt="Opzione 4">
                        </div>
                    </div>
                    <button id="btn" onclick="chiudiIGBackground()">Close</button>
                </div>
                <div id="pdfContainer" style="display:none;">
                    <embed id="pdfIframe" src="pdf/guide.pdf" width="90%" height="100%">
                    <button onclick="closeGuide()">Close</button>
                </div>
                <div id="table"></div>
            </div>
            <div id="bottom-content">
                <div class="half-table" id="player-hand">
                </div>
            </div>
        </div>
        <div id="right-content">
            <div class="icon-container">
                <p id="opponent"></p>
                <img id="icon-img" src="img/opponentIcon.webp" alt="Opponent's image">
                <p id="player2ID">Opponent</p>
            </div>
            <div id="deck">
            </div>
        </div>
    </div>
    <script src="https://apis.google.com/js/platform.js?onload=renderGoogleButtons" async defer></script>
    <script src="script.js"></script>
</body>

</html>